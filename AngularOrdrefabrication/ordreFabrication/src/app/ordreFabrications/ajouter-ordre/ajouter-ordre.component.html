<div class="container mt-4">
  <h2 class="mb-3">Ajouter un Ordre de Fabrication</h2>

  <form [formGroup]="ordreForm" (ngSubmit)="onSubmit()">

    <div class="form-group mb-3">
      <label>Numéro d'Ordre</label>
      <input type="text" class="form-control" formControlName="numeroOrdre" />
    </div>

    <div class="form-group mb-3">
      <label>Quantité</label>
      <input type="number" class="form-control" formControlName="quantite" />
    </div>

    <div class="form-group mb-3">
      <label>Temps Estimé (heures)</label>
      <input type="number" class="form-control" formControlName="tempsEstimeHeures" />
    </div>

    <div class="form-group mb-3">
      <label>Coût Estimé</label>
      <input type="number" class="form-control" formControlName="coutEstime" />
    </div>

    <div class="form-group mb-3">
      <label>Statut</label>
      <select class="form-control" formControlName="statut">
        <option value="Planifié">Planifié</option>
        <option value="En cours">En cours</option>
        <option value="Terminé">Terminé</option>
      </select>
    </div>

    <div class="form-group mb-3">
      <label>Produit</label>
      <select class="form-control" formControlName="produitId">
        <option *ngFor="let produit of produits" [ngValue]="produit.id">{{ produit.nomProduit }}</option>
      </select>
    </div>

    <div class="form-group mb-3">
      <label>Date Début</label>
      <input type="datetime-local" class="form-control" formControlName="dateDebut" (change)="onDateChange()" />
    </div>

    <div class="form-group mb-3">
      <label>Date Fin</label>
      <input type="datetime-local" class="form-control" formControlName="dateFin" (change)="onDateChange()" />
    </div>


    <div class="form-group mb-3">
      <label>Employé</label>
      <select class="form-control" formControlName="employeId">
        <option [ngValue]="null">-- Sélectionner --</option>
        <option *ngFor="let employe of employes" [ngValue]="employe.id">{{ employe.nom }}</option>
      </select>
    </div>

    <div class="form-group mb-3">
      <label>Machine</label>
      <select class="form-control" formControlName="machineId">
        <option [ngValue]="null">-- Sélectionner --</option>
        <option *ngFor="let machine of machines" [ngValue]="machine.id">{{ machine.codeMachine }}</option>
      </select>
    </div>

    <button type="submit" class="btn btn-success">Ajouter Ordre</button>
  </form>
</div>
